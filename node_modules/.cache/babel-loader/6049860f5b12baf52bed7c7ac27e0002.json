{"ast":null,"code":"\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar pick = require('../util/pick');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString'); // Limit is 16K for a _request_, eg including headers. Have to account for an\n// unknown range of headers, but an average EventSource request from Chrome seems\n// to have around 700 bytes of cruft, so let us account for 1.2K to be \"safe\"\n\n\nvar MAX_URL_LENGTH = 16000 - 1200;\nvar EventSource = polyfilledEventSource;\nvar possibleOptions = ['includePreviousRevision', 'includeResult', 'visibility', 'effectFormat', 'tag'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials,\n      requestTagPrefix = _this$clientConfig.requestTagPrefix;\n  var tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join('.') : opts.tag;\n\n  var options = _objectSpread(_objectSpread({}, defaults(opts, defaultOptions)), {}, {\n    tag: tag\n  });\n\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts,\n    tag: tag\n  });\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n\n  if (uri.length > MAX_URL_LENGTH) {\n    return new Observable(function (observer) {\n      return observer.error(new Error('Query too large for listener'));\n    });\n  }\n\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}","map":{"version":3,"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","assign","require","_require","Observable","polyfilledEventSource","pick","defaults","encodeQueryString","MAX_URL_LENGTH","EventSource","possibleOptions","defaultOptions","includeResult","module","exports","listen","query","params","opts","undefined","_this$clientConfig","clientConfig","url","token","withCredentials","requestTagPrefix","tag","join","options","listenOpts","qs","uri","concat","getDataUrl","observer","error","Error","listenFor","events","shouldEmitReconnect","indexOf","esOptions","headers","Authorization","es","getEventSource","reconnectTimer","stopped","onError","emitReconnect","readyState","CLOSED","unsubscribe","clearTimeout","setTimeout","open","onChannelError","err","cooerceError","onMessage","evt","event","parseEvent","next","onDisconnect","complete","removeEventListener","type","close","evs","addEventListener","stop","data","JSON","parse","extractErrorMessage","message","description","stringify"],"sources":["/home/sony/Data/FE/company-profile/node_modules/@sanity/client/lib/data/listen.js"],"sourcesContent":["\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar pick = require('../util/pick');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString'); // Limit is 16K for a _request_, eg including headers. Have to account for an\n// unknown range of headers, but an average EventSource request from Chrome seems\n// to have around 700 bytes of cruft, so let us account for 1.2K to be \"safe\"\n\n\nvar MAX_URL_LENGTH = 16000 - 1200;\nvar EventSource = polyfilledEventSource;\nvar possibleOptions = ['includePreviousRevision', 'includeResult', 'visibility', 'effectFormat', 'tag'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials,\n      requestTagPrefix = _this$clientConfig.requestTagPrefix;\n  var tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join('.') : opts.tag;\n\n  var options = _objectSpread(_objectSpread({}, defaults(opts, defaultOptions)), {}, {\n    tag: tag\n  });\n\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts,\n    tag: tag\n  });\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n\n  if (uri.length > MAX_URL_LENGTH) {\n    return new Observable(function (observer) {\n      return observer.error(new Error('Query too large for listener'));\n    });\n  }\n\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}